import{Z as k,N as C,h as r,O as D,c as w,w as i,o as c,b as o,a as n,B as q,d,f as u,t as a,e as H,g as A,F as B}from"./app-Cta_gWxB.js";import{_ as L}from"./AppLayout-DNHfzJys.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={components:{AppLayout:L,Head:k},props:{topics:Array,categories:Array},data(){return{newTopic:{title:"",description:"",category_code:void 0},showNewTopicForm:!1,rules:{title:[{required:!0,message:"Title is required!"}],description:[{required:!0,message:"Description is required!"}],category_code:[{required:!0,message:"Category is required!"}]}}},methods:{toggleNewTopicForm(){this.showNewTopicForm=!this.showNewTopicForm},onFinish(){this.$inertia.post(route("member.forum.topics.store"),this.newTopic,{preserveState:!1,preserveScroll:!0,onSuccess:()=>{this.showNewTopicForm=!1,this.newTopic={title:"",description:"",category_code:void 0}},onError:l=>{console.error("Form submission errors:",l)}})},formatDate(l){return C(l).format("YYYY-MM-DD HH:mm")}}},Y={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},M={class:"space-y-4"},j={class:"text-xl font-semibold"},I={class:"text-gray-600 mt-2"},O={class:"mt-2 text-sm text-gray-500"};function P(l,t,_,Z,s,p){const y=r("Head"),f=r("a-button"),h=r("a-input"),m=r("a-form-item"),v=r("a-textarea"),g=r("a-select"),T=r("a-form"),x=r("a-card"),b=r("inertia-link"),F=r("AppLayout"),N=D("role");return c(),w(F,null,{default:i(()=>[o(y,{title:"Forum"}),n("div",Y,[n("div",U,[n("div",E,[t[4]||(t[4]=n("h1",{class:"text-2xl font-bold mb-4"},"Forum Topics",-1)),q((c(),d("div",null,[o(f,{type:"primary",onClick:p.toggleNewTopicForm,class:"mb-4"},{default:i(()=>[u(a(s.showNewTopicForm?"Hide Form":"New Topic"),1)]),_:1},8,["onClick"]),s.showNewTopicForm?(c(),w(x,{key:0,title:"Create New Topic",class:"mb-4"},{default:i(()=>[o(T,{model:s.newTopic,rules:s.rules,onFinish:p.onFinish,layout:"vertical"},{default:i(()=>[o(m,{label:"Title",name:"title"},{default:i(()=>[o(h,{type:"input",value:s.newTopic.title,"onUpdate:value":t[0]||(t[0]=e=>s.newTopic.title=e)},null,8,["value"])]),_:1}),o(m,{label:"Description",name:"description"},{default:i(()=>[o(v,{value:s.newTopic.description,"onUpdate:value":t[1]||(t[1]=e=>s.newTopic.description=e),rows:4},null,8,["value"])]),_:1}),o(m,{label:"Category",name:"category_code"},{default:i(()=>[o(g,{value:s.newTopic.category_code,"onUpdate:value":t[2]||(t[2]=e=>s.newTopic.category_code=e),options:_.categories},null,8,["value","options"])]),_:1}),o(m,null,{default:i(()=>[o(f,{type:"primary","html-type":"submit"},{default:i(()=>t[3]||(t[3]=[u("Create Topic")])),_:1})]),_:1})]),_:1},8,["model","rules","onFinish"])]),_:1})):H("",!0)])),[[N,"admin"]]),n("div",M,[(c(!0),d(B,null,A(_.topics,e=>(c(),d("div",{key:e.id,class:"border p-4 rounded"},[n("h2",j,[o(b,{href:l.route("member.forum.topics.show",e.id),class:"text-blue-600 hover:text-blue-800"},{default:i(()=>[u(a(e.title),1)]),_:2},1032,["href"])]),n("p",I,a(e.description),1),n("div",O," Posted by "+a(e.user.name)+" | "+a(p.formatDate(e.created_at))+" | "+a(e.replies_count)+" replies ",1)]))),128))])])])])]),_:1})}const K=S(V,[["render",P]]);export{K as default};
